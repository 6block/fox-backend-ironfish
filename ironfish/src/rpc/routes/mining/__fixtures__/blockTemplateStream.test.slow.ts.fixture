{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "AD8FE6A06029B5C4231C0F9B4A8EC672674A8B22CCEA2161EA73DA4951A96E14",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:HCvGRHLPO7PZMjO7cuRtPC8CDrU2XSUrrACJGJ4xXxo="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:3IPTfuCLQADXQ/EbwUzw+WG69Hxi8tWoEW/Fnd/+eIs="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1678915644294,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAeeQzk1IdydBg7fPo86xUMKY+pVLmFsnIlIrR9NTYhyGSWNblzKimRXdM+eybClDwdsYb9CRtjt3gI8GcBwaOM127Doj0HrQTTIMcuwNM36qX+m8YJupdL8V0w+bj4wb+GaFXdumWMjuQqYXgLRneM6iPUuCiY2cuy6veEXvhsmcQZPDvYQJVSKmPOZmxmtDzBHNlVMX7VXo7bBCZEe2NxZMacp09wig/i8Kuf3H9ChymzGSMgU/aw0u1yy5dGbDko4BmQlRp+zBluUDLKUqUBD3SbuqlvewnD2qmUFGTCR/hNQhs+uCzFFhxiPB9sDY+kevImKYQeOlVz8Kibo/Rxc0x+BlqBrRBkd563kN/RO6XqBqZv7wDL+tHI5VVYRMVhUZOjma/jeuWsKVa6sI0/18ve0WWra+2yjUsWoV1pzzwtUSHh50+2+GV+VB7too1JTT/VWdYmMgQ4B/WsZjqpH26rvonxqaGTlHpL9T+8w4wV95GJ7lmWMp4MhJz7Ythfo0PFwY/Tmwmy3ncMNS08kyT0sNQ9e9lwIRdGfSwdFX3CUS1Mb2NI0tg0XGBZEMzBt4de3IpWEk7haeMRlf2ovD4q+X7I6m4cSI8U/FpqQr0aLOoKfP9j0lyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwTermafxZdun/4pfRL72VAqULMIfyOS/wGwWr6yukNt8YQxYqsbOIuI2P0c85ImkvGNaOHQw6EVhLoZey8HIRCw=="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "version": 1,
      "id": "263c5257-1869-4b18-b930-91b6e01ab735",
      "name": "testAccount",
      "spendingKey": "47dcae129b1df200d4c7e587386f8311f2e949201dcfcccd75849ba8edd88f47",
      "viewKey": "4a5275b265a950e80db84aca67783901436ce0b27f3eac4a8d1a11f7687411a2014cac9afb8e997643ce8644723237d01f010c1b8739cb0043ec82f15686c60d",
      "incomingViewKey": "d37572bbd544299bb87e5d5b7a6f316b5c3d8dbd6e7708eb8e1bc48bce75c901",
      "outgoingViewKey": "3eaba5ef73da8520f9187948914f8f5d75a1ce9a2c865342204cfacd662ed328",
      "publicAddress": "eb3af28a4839962e3bdc584fe2a4c366074ee0b4b29d547c252137fa0c3e3047",
      "createdAt": "2023-03-15T21:27:24.847Z"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "AD8FE6A06029B5C4231C0F9B4A8EC672674A8B22CCEA2161EA73DA4951A96E14",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:GfYjF6PFUOOj1cYgFRBaG1CVKDoE3C2+rCwpLJzeRjs="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:b/Sufv1NVViUlOydnPhVWLClRSQGiIw0zcm7YwDZUks="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1678915647361,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAzWsbJVQo6uCGxHMX0R2LLLD6WIVMXqJ3dofJCS2xJi249P34Xk6h0E2eMX02dplma5dQpkTCxgDxI8mg+qNVNM4BSKkDhQefgMhh8JBfQVKLZBiRi2SOYyULrSAl73Hv3TJG2augOamWpdec9SLR2vwHSilsBGxwJLTKDPrynekXBtOONmEnFiw2L8AqlO4dh+Jw8rWTfpzsCovbbOytYdeTPXHoeBb3m27Ay7HJ2pOPCIo6yUQ+zB4BbpReZAA09T1iNs3eoFgxyqHwBriLei0qCEun3wRHYuGDDhd3rlPvEBZKfL0x38+o3dfcS3XrhYqyODmFBZHSxHjyV3yKgHLQWG28f25qI2tvR48r39NHW4UkUQbmqfxgIlPX3UJSIgMbiKCVKzCYJvUWKVFdoCpMfJB3SD5Caz/Nf4/3DUJCayaka1ql4Wktlt3RwRuNKywX2vQzJbiokkUuZy5j0YMwkjYG/lQ7DOA4JQGNq+/VgxFz9ZhpHzBceolHCe37vHeRan5i8CXgJjY6ITDrrJU6RmlUXGlpbyd9D+muIwpWWxfWCn6NH6rcfAti7Sv1Eous+UH98ifz6/yWXByF2RIjeyPJekW1oOr6LpuxNF4L1+LnZb2w2klyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw8FuM+71zI/7K/bR/g6bzDyHjLt2FlpeeNyVHVxMELPMYgv9R0HwQSkCt2SY1VN190UXpTnhrHO/Zn6HRpoRmAw=="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64: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"
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "5BF38B45F7EF054A61DA009C314077232805919C6B86BC46ED004467FF9374FA",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:j6q9VBX2QelJ+jT/Oo0NOtjs42TpX9j9kr7FKHt44i4="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:KS3QaaRabx7XAaR5tmaohOB1jntPCRHvL3KAkc07+V4="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1678915658095,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAA+DhMpYOFrvX+F9iwbicEgoIwlp/GISaHfWKyKasqh0C33LGs8TYHbG7yNaLSOD25yN/8vbydFAizptJB4jggtN1qfZUa0y5ya14ju8OzZcCEbGLqhh4TbgcLZJC1yrwR1yk50jN5J9K/MYeVLX/FC2qgFsaTKUCjPxB5f9UZ8xUTOgzVcfS24bTIMcogipLEPoC4d/EohmCKmFAyvD7n2RNR8lMw3yQMDWOTi8ZjTB2MZrfmtHGWhEnjoqkABxxOhaHkMv0yIJaIutTeGLUOuq5p7qxkgqGQNd3iHe2HTLtxsmfLN2bRZfpCsV/3FmHIvYRd+weyJ/X5KIVRPLjl0NPXxj9a21SYS5DjGTX6F7RYDRvGin3aw70EXlP0yH1ktuvJ0xcUHhmfp1PqV0hyVjmPHu+GuKukvus9072xYPCC2JnxqXJ71NdWYv8egLwRl3eq7Dg0ydhlS84OBjwSQFBM2xpVeO6xgj++Rr39T5iZrTe1F+bN1HuAwM3d1e1tJHsLdfqODXQ1Ohs80DxIQrhXy5rqLEWWWawOTGj5Uj/YWyceCzUvyN+b3weuVHGXjjE+ORN/CQ601fdUCbMrosmguLGY9pfhdSzulfE50AeQ4dI6YpvMbUlyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwjN98mQI7luoPKDyDkE1J1k9twlBPORvqiVc/8JvbCeBzMmTuGVh7taKNJ/ocdrQ8POwSGQS1bdN8NKxhLThLAA=="
        }
      ]
    }
  ]
}