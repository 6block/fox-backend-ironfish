{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "670951D3A4E8D00AF7D5F25DDE7FA542A9311DFF7DBF392D7C3D44747766A305",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:9We6hwInQ3K2JIMQcV7wfOse8V99OPq5kMiztfrH4SU="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "907A17CD0A97026AFAE618DD8CD3209CA59F8AACBD87351A06AC499617507E01",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1664567052897,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "F20C83D0E1E07C0546883AE5D6635EF6D5C6BA783083B0D81FA82892C568C81F",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACNd1SkMcpBjHF/NN+2eFwWbJ4VsuXxpExe2QFlUXyMj6B9dV+nuU4Kxw5FNq2zfDOFde0HI78jETnDs4oSlL5kEfnBVyCRleg4WVsL5OncHJwv9/C2lpEm/Qm6Y5whIt8QFI9QqvZq0IzSZKKpdr0Q0iJUk2nvg6pjlEWk08bRm2h58TbdFvq1jkVrhOHHZJSNSS1+rJEcA1eRTVQkZTlaJrq8zy0E9BEadCOlVUNLhD8SritqaOC1qhdhkF29gXctsBaWqzsY0Rz2M7b9uSe8p2oPXBuZSUUPaBU7AnGAKh6I1B47+dAK7MMsYStXOAZcxghwJFs3SyGSXS+Z1J9atazJw3i1IfJPDXptWnSjAS9BFbNac0ppasA2SwsJJWR1woueZyeXr/+Tr0zMZtmyvWUWgneE1Wvsh0gSnd5aNkqmrN0Z9F9D9JS9AV/iONWsk4ypac0JAqw/DNuKTBNVg6RRwqEDfP3jOUbO8ppGp3otnBkvmPvsv6Bd8oJPOZMujU4/3VYxP42c8CNMbFvyJNyct1L29Owv0JmQVMoEtfbPb0JlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwC6bDWkcvuJkmVrOoWx8bPKQ8A2i3P+53xSa0Os6d06SP7duSn6WLLEPg/V/l9gOGWkix4cWvfT7Ru/v5l1ElDg=="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "670951D3A4E8D00AF7D5F25DDE7FA542A9311DFF7DBF392D7C3D44747766A305",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:X2v8EJsC9HDgVUg4CBGQ1JjBuKuD1xj06/xm8CHx4lI="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "907A17CD0A97026AFAE618DD8CD3209CA59F8AACBD87351A06AC499617507E01",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1664567055026,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "7794095A195DC6A14FA165043BE1276E623006EB419CD478FBCC89B60FE991D5",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACE0yojD9SQwGDrnkcPT2u2Xo2qHGswIhXmik2orrRKJLfSxNWBZLybuQH674DsSpmvRZuPbKgOX5L5k56F5kaNB51NQmfGFOI5XelBOGIZ+6kUBP2u8y/Km3KRasNqw4kWPuMit+Aevqtv9mSAqvnUyQfF99p6Xp8YrbDgMXPjEcN5yEkGh3Wvvmz3KzwR7gOKZI1cuPrTlijo/AjW8VpFgRVfmUWp7GvmFg0GRBCfXE5a1j9epfzYjW7spZiN8JBgw8n9xuw2T6pA1jkjyCVcoenerVDKJ2TQXsrSccxTCi90ZNph7Jd39pGpL54aF+bzIJ5gBGCBhzbYqqn26P1gdjHMLlahkpA+37+qLxGDeP10LJ+0GnEXCRoO3B8KflPNnnKq1VChsoER/BV6k6EODuQ5PbbVF0LnfA3BoyEEc7O2AQtQi0/L6t2r189gmiep35+r5tecSp+jK7JL+0ckfaPRzhB2pHSFWaGYSVFt/De0K/ATLs6QaTCtzQ0Ut31ZHwzxDaGp0bE168HjR4pD7qg4cpgkGNDUUIpoTC27q1nMgkJlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwSd34Si0qtNSRrvRqhIPnQZ2p6lg2MVfMIyUIUOJkWGG84jGKCkCtiOpxaefNv2zjCkWqmDY84NpEJdXvse+JBw=="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAACDFZBnK/33tDH6fQTDatSGzXOvHgs3zCEqGhCNbRuzf8CvDKalpEaKBzCOM0pl5sqOtLSAM1lneIGnDmKxnGnd/WE8K+EVB3vnfZcrL8QXWu0Ev1AZB0kbr8+qVIg5rc0QnB5VJy2S+3+2boSeh9VUH2AvGjy1zlvoTofSsolji+oPoBQHZ4Fyld0vUZ5H5ju0PlbyYczJJSFWdBFlkPwY0dPiG3QjyI+NjuqLGOzzELFTS0johYPoWLdi9HBuAYuYic85cF1aHmTM5JckOSxWewWVZ+kZ9ATBYxq3xIVW6vA5NaATIaKer/xXSdDFV+dJfN2xLcgs5irdDL/Qv/DxX2v8EJsC9HDgVUg4CBGQ1JjBuKuD1xj06/xm8CHx4lIEAAAAwjcVyLT00FilTMBkFPlYhTJ96j4iDcziboBqj1pcC+5r270+vu531D0phP75KyRvEK5NHnNbvUysXk5rT69YN8prsRR8N3yrLm0Bw4QmMbxOygCpJl6vWjKOpOzcjxYHjL3f7pGLGnh9p20cYz4gXuRLhb2So7XnN0Pw2j+jrUY2WzmqPAYBNmtsEigxGxnnq9f7BwK6ebPahY8KvaVxHdv/5QpUPqM8owNz3JSp1iniuWEkGtkoaGDA0P5QD/K4BSNqUCCwvjP89Bf3cWylKehkX+Pre3xJpsl7nIvVETFlHmRzfPthrMwuLMNdwZZPpsJyxisfbR3mGaP8TFg40Efn9IB0RWNbrH5Kttz5VhTpJ5w9ieAuPAjM5aThBDQu8/wcMz5ZGgwE8gbQDgxOLvyeeSGuF8smP6rnAxFyuij8yjPh3B1Gscirn1OQLa1vJEvItf8v+YhdBsYhD0OlWP5kjAwHAs03GfMXHwqkbNBERRblUZDyEG47ZjgtDQfwwwHyvwoyH9mcamr57ggDYB1INR1C+pMW/DHXLWeJyNXgM+yRiWctNvf1rK6JDEzx79jb1Nb0pTTrxN9rJg1sGcnNdlwBVdIApgGqYTrJgcdxMVQ4UcU2PCNVGDOHQOHkZ3diy/1BO5czbPyIPfSotKWGFcDaosw/1uqTQR78ah4IGc47lpAyFHzW7vBHOOfyM+WwShsfZDiUJlefVfnyM/LwjdeLQY1qDFx63xhJ2/qocckqfjeswbZPsYRkrwCbT1ocvo/2454eI7VL9c/XeWlNjZgoQX+ttw14V8ojV2xCwBs87Y4v0taIrIERW5AoZXxHaWHosd010JgseNpOn9eq14OPrpvTNEvEcRtQojS6RANW2GFYADpZuYTKn0FGjYArpz5INnB9hLIjHeEeLuzC7Q0ZZ6VlLyo1zJuK2pCI+hY0fMoyEKlbw23ZhN87ptFhGT9/vYM6e6hwtwcKqqT3j63479X2I4gyj/EMtl7Z1eHbtiK2S13Gs6DBoxwD1NpT+iIYZfddrIiApRNTExtMXUBHyp9zYLL8Z6LqzePlUI55pnIkmBm1zk1AXK+r7WFHbaCHffkG6YZXNJwlLDtd5eLxefacnhZGQBk5lEvftyc7+hIXNE3abnvYm06Xg3wgND7MwHQJNCG6bye6vYMqAxkL3WK9s8lJtvPq+k4AVQ3KgNh4UkHnCd77RsU9JV1nRE/Viv1fjtzRMNw8mzC9yNAFP8Xa5VoFXvKIscHRInS1JITa1df0yGEijyEgm9E0A0U5mjGbYQcjSkmBQ+f9HJCDrsbUq7VLh9vZud6ClbV/Z7WCihLHDhP5kOP/W5aK5CPTBskOJD2aigm2oMsdVq/fPButVFPPZDVoaA/SZ0jISsMp6jyuY9HxodeMaKtWWfgi7P+SLt6VtUaoDy+tVI1LJOsX2SNTXVBIMp6VtvfNJKyYg7dsgQQNNDCV+uvGzIrtkRy9nB1ajxnKojsBo8tIhntLspoZF8n9yok57qRSglb+MDWwv5MlUo7h5E9aMMIM"
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "7794095A195DC6A14FA165043BE1276E623006EB419CD478FBCC89B60FE991D5",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:ftw4IZ/rRd1U/9BxC04BWfaEAOWL0fEFDIiiXDefsmE="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "907A17CD0A97026AFAE618DD8CD3209CA59F8AACBD87351A06AC499617507E01",
          "size": 1
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1664567064494,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "615055A06669E16B3296CCACF94EC8E24E19EB2B84BAFD6C8CEE24CA1659C3DE",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACgFflYYcwl7NiHsovR4pKkqBbchL0IuIaTioHm9fIw8Rf3RgcaLxjcXMNGV2zWoemqjehN0jL0UOPvEtjudhPXzvPY9LToC3XU9m4JY/CWx63b2IkDWvbg8aZyztpIcfIKI/jhzyRfHaxwB2x03rc7XPFmrVuNKaoIBW8eBp/pTpotiL3C4knk/QPmbZgshF2THbDGO2lyoPOUq5iPJp4de0On0bchVYbQ+RS5c3rNxYoM8KvLDGwqy+8oy2TUuoHqOw6U4vPeMjci1mSpMggbonmzc4fx4YdgjPbFmSHcAzpCE9674pj7ycxR3TB7TOVFyIP1YjZYA5hujJKCQsFK2fhZT1yOBr4OZn2m4sHwZdCMZB2ceEbUdWi/Q2vI8KCpvDyvhxB8dK1vthKe/p09bG1GmfwYXdO5t5FCkzr8wxU7Ln4lb/+zpkfFRICmTTu4YikjG/j6Gj2AY2VLyjTB7Z1i0T0fJcHMl7SHlpJivf/bU2t+vyflJ1mnrcSpRLJhSSEWaAzgxl7WVNrLY1pVpE2BPguNnEtj4ESj0R1Xpy2et0JlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAww3tcPiFrsEyUmVl0+PTAuGO8f+T04tHyfYz4sCB8l0xYyjWFbzuuNv7u3vQx5VcaIt3SY8bDopn5yQS6R6YaDQ=="
        }
      ]
    }
  ]
}