{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "3DD7E845C8B1FA794F1B24456A8AB0CFEF3C4272D3236C509A03F0546B0B88F5",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:BqmpmP82je32vz0rOVtqAQajpuP1u9VudJNtE7H/KGQ="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "C468A0D003C82115712364F7EA21B45AEF4CC5FD79FDB0D0753EEEF83B71438D",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1658185119497,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "767BAB14D75CC30FC71F1DAD6DAAEE39D66070B63BECCC536342C00DA14A6DC4",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAJFSQjZAYrlUiOd86Z5hNbOqFsJBWT8jwTckYxgCHZ50Zm7/9WA3ceD8QOgR1raLt5Pq6tWmP+mb6dXxR5k6UCvDzHdL2M5oE7uj51rqYWskI9AeU5QbN135l74Ug3Q7UhPaAptCn8XaN2HONeRAxd/y7aORMnPxRoVbchGXJuig8GJ3tI4/boerA/WyH5qv56fj9Hs8U/6oTu+eoqmEP/K8T3k3B4i9l/bDpsYhiPyNeA1q1KgstAI2YKfU4dA+cQL7ID8kLB1xPSdT3CgS76Xc+kcfnapW1/RahOW/HAHMCEISs6wwW8hnWA77RfD1SX+fFvAnjS0cBkYwxqRy0AkfbbaihBKVcV70Qw8vyRbW4h69oeo9GMyJvDc2azODW8CCWrjJk/rh78+yAscpfKybiZwd4eOO33q1LXu1+Eu1vZhFSdfiADaLmCvophioWfSvzXKAEt/z4GOk8vISzoDX92nM5e3skpD6fmJWWZ+iDEovRlegKo2Yf03To/2QXbj9B0JlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw9UO0S09LQm28Yfg9/hA0VurPSHoHebmDdkRca97NMsS2Y3uxDfpKsKSkOO3UAXeXL4i74H9tb17lDhLezw+OAQA="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "3DD7E845C8B1FA794F1B24456A8AB0CFEF3C4272D3236C509A03F0546B0B88F5",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:Y5KEgQXn88xfJRbUrGT5fg7FXY4CLI1m0zu6ECbh2Fo="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "C468A0D003C82115712364F7EA21B45AEF4CC5FD79FDB0D0753EEEF83B71438D",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1658185121300,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "9A249923EC24C22A9D20ED82A9536278E38BF96238F3D7674793D3F5A97D8D96",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAJeM6QQkQsbF3sWZLBqTxbF8wcZMd589XzVdSQSnxFR2JZxHCXFnf7hdS49J6fvsHYnEX8d7i3bZ597GZaIpPpI74Ffybo2NSdmeL1D5W6kDicFmxDL5WVYnfxwyN7WAsRAXFJuTx3WrZzvt4zE9ocFICfg5gth1MGZt+xMrArw+InEYIVJwRCKvx9nfGy8ctqn70swoXrB+FNgwjOAtlDjO296eIY2hWCNhOVZ9QRBrI12EtkU37O2cZaeW83Fn3R4NALPGnxKCCO8EV12m3hZiGm+Ks9xc/s3XR7h2KuAVdU6QTa2g2aWyVWvqxq0TcgYaudIxQtz9ATBMqZYawlfP5/pUHn8+xn4/tEqt5KUMafdAFg40UnxVMBFLC1ufmqUBoeHwaaZjV5pV+58OptPzU26aZpk82CviOcF+OjyHQPqMsl8ifSCakOjTA8reOuuA3mwPYZT/uFgBS5JI/dtyO3/H94lBId62GFKYradH1wt3jh3aC2CogM4uv4vI+GELCUJlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwb/Kd/NxLrr0fsyCoRLD9qy4UsxoaHY0YEIptMsijH8dGPu+d+gBbEcIQO1Cz936TSEUaXHD7EMb5In8hDSx0BAA="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAwAAAKIWy8j+5chrJP8tVKSC2whnpO0PTbQ/SXuFgVTa6AdI31DdYktQt7XPHLcoYCnRqY7J2e2spySh633p/e1H1N8vE6/r9XK8JYrGx/d3zl0iRk2EDibW+D2xXsZTM04yHgP+SJ59ZTTRo+od9rZtmYoPAPS6v4SofwJWyhe1HKJWTX6Icjma1lTw7Z3qxU20xKj8R7rmaSZrVAMdLUd9dxGw6sjU3/OoMzJcBTcVMb7MEqEgK9GO5w1at9vCTtKfFCUcWBQPD9jIHYGw8hERxWcv7xiNP8WMuxyLcrhO7ZXRrD2TF5HGBtZOGl3hDbq1w3h5rPjn6PalkdoDpHsPuF5jkoSBBefzzF8lFtSsZPl+DsVdjgIsjWbTO7oQJuHYWgQAAABQuVKPBBjEjHkRo4EI4D8CIJ5WBzvTMeJNh9fMZ7QxGHFidgHkM2/ELS7lwyko0Xuw34UAUB+t7i7fax988jq3mB7tyQEuu8+WGsxEC0s1sU2YGBzSTdfgI+Sf/0u48AKsSOHDzZVK25CVJAWD/YHNZqCHomjV+dkAL9OLlNl0Xp3fzDfWcKcHvM8pAyIyYBeSzmWiq9o4BpGjcxSeFMWFnJ7c0i699ASBK+syNSCglF6eI69A38QQf9E62ZWpJuoIaMjDTVXBpZfHgT5OBaB+VzM3nwS7qDaMH0PiBIreaUPDqQUZagNdFHPlI93cT8OM1+FSxA8wmDdL7R9lql1dTnDJV1gVHjZkL/w9TpdZqRjZcRLO1ZMVryFJjgJfXPMxjpXrXXHBPHJO1zhJDSsYKBxzNkRNU3vl7Nk9Z5cURB94zXJ1sMZvjMIjgf2IwLStbq/UHgiJRiJiGJeLlMMY3FEp3YBJYW99rILnUbJTytrvD4db4gEx2zo8ZrWW8RhFugjAyBPioF1E7GaERfGjhn7XhZw2qSDjXuq+qlq8aolxH+kn2/WBk9rTdLuY3E4KSMRSgegC1Q99jAtGmFRHsAE+MFFBO4VdDxuj/ldB0y3oNkg+Wqdz6uF5b4fS38L8JpEMhtSvrzmQhWwlYhfy58GiRm2Ww1YIIHmLBis+6DibjeGX1Qo8LMN+BqxC/2ay4vWe/ZQX8FXRCInBNFkDs8sjceLjyXjIp6s0q1hNDtdmmZjt8sY+zY3KjV1tR0XcU7YZw955MX46n8SZ7KzPhyzbKVlrAWXIcE4gTPJMoDzibZnLURwHEtB8msZ/6GafJv/KRUTQGF7TV94MepVQov5CkERyJEYArKinBDqVQoCxVgui3Krt3izXWq/elShQ2B8HSbqb+pHGB9rW1nfJXC0JC3+kNLLNS4VT3nR6LsJGw6a9C2Jo/VDIYXXetzqfwQfErsrGEv90Rs2czoxGrHbgHpTJWkcy0IYwPBLeEMxrXy9koa9TBNr5MTXm37DJWdnGSa2WIQwk9PWK3x72+KJN+q0Jyf01fkjorNN5bvtK3HAD5nOPjb+NJXs1Aczj6jdoX2OfM38j84HYJLB/uDjP0LMT+RgMbAQQwXWIss/gH7L2DYVlNrI72Ixaijk1O2uxqYmv4E/J5AOAIhZ3v9mFXlVXgvJN192dA6ue0R3FrIR73cPz4sHj61OlgVOrCiSzzPYsDbK0FvlL81WgTeVGtgtkHSIwiHFLu17vplW1iyEcufTAtUHF0x/Qhqiak3OtzDp8TKLcEYp/i/Ef95PEa+JDGrr7vZn125/MUm6Ecx3xRWU/wGewzf7GG6kdAx1h/H8cnVDY7icEy9zE4IQ6IyPQyHECaemxQ0d5bU5eJW6uIn8SLPPQ/jfyo4LhGuwOXOHgJFSP0H7DXV6tPjdXLb0foF/FVtjogZiY4Loh0nrEAQA="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "9A249923EC24C22A9D20ED82A9536278E38BF96238F3D7674793D3F5A97D8D96",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:MG8f+vofnzIt7NnzZGvaeKXMBj9RV2R8uCRCrBwBiA8="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "C468A0D003C82115712364F7EA21B45AEF4CC5FD79FDB0D0753EEEF83B71438D",
          "size": 1
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1658185129056,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "A02A0DA99FF0B377F32B70F3C1B5F74E9BF709F6CFFA74C30C3720ED3A4DB9C2",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAALC8wW/H3rNV+Ciu/4+yTOVkR61nzMoT+jFxtBq2JwmYWH0UQpdwPGYrLeBMvjvQ/YuEaVNUnfJR4gihqZWidALgjSM/pEPrGsae338guL9ymrqeATo1B4uatl+jloIucgEdM5u3Anv+yJc2vxoZcd9OCwJOtQbIaEVXZiUKuyDCht9J5SrLIgIMPX6Rx58A6bABdOCqGTNP0Niaue4bMLYGFxjrwpDBZDsV4tQxQNTb28Qyhjq4epGRX+PbeNo7SfUpYMF4UjM8V2kzijTcgYgAHvo1mWmEoZm6qvsqTknQRyVQp3mbXFSGcWgX9aPEHL5kzt23o8xebnAAFWhwBBg3W40JJw6/kQtLGCTKn1rASO9O7Fr0gWf5Q5DllI+TLami3r/flsG2NEdQXfaN6M7NGFgR4fCk+fZXsFgf/Rbwvf1XW5zhyAmnhBuJHfIXGTA8mxPj1DhZziulu3H5cESVoQQTYRVZsgblOTD0x6LvrfJMiIsMPAp2Rur2kLsNknTqJ0JlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwiCCG+BaNuuJxQRJ0cMhXURZt2Bmf5UOW+FMkvE9/EtFMQrg+fJ0/aWu2DDwh8aR9Ht8EoCqCpov4L0hbwHhVDQA="
        }
      ]
    }
  ]
}